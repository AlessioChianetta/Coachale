â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“„ RAW SERVICE ACCOUNT JSON FROM DATABASE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Settings ID: 4c4e1eb2-47b8-4649-8a92-c656c2988229
serviceAccountJson length: 2376
First 300 chars: {"type":"service_account","project_id":"gen-lang-client-0278434337","private_key_id":"7692537ec6cc9ff110932c4c77edce22b59ab9e5","private_key":"-----BEGIN PRIVATE KEY-----\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCmi2GSMb4Z3rEY\nJo+4znbDAzju7HVj7P8IR60/ZCX6CaGG4h8T1rWYHzAUdzIjO8WUklLJFJ03ZS
Last 200 chars: /v1/certs","client_x509_cert_url":"https://www.googleapis.com/robot/v1/metadata/x509/vertex-ai-service-account%40gen-lang-client-0278434337.iam.gserviceaccount.com","universe_domain":"googleapis.com"}
âœ… Parsed credentials as plaintext JSON
âœ… Parsed and cached credentials for settings 4c4e1eb2-47b8-4649-8a92-c656c2988229
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” DEBUG VERTEX AI CREDENTIALS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
GOOGLE_API_KEY presente? false
GOOGLE_APPLICATION_CREDENTIALS presente? false
credentials.type: service_account
credentials.project_id: gen-lang-client-0278434337
credentials.private_key_id: 7692537ec6cc9ff110932c4c77edce22b59ab9e5
credentials.client_email: vertex-ai-service-account@gen-lang-client-0278434337.iam.gserviceaccount.com
credentials.client_id: 102188926920042138104
credentials.private_key length: 1704
credentials.private_key starts with: -----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w
settings.projectId: gen-lang-client-0278434337
settings.location: us-central1
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš€ Creating VertexAI instance with Service Account credentials
  - project: gen-lang-client-0278434337
  - location: us-central1
  - model: gemini-2.5-flash
  - credentials: vertex-ai-service-account@gen-lang-client-0278434337.iam.gserviceaccount.com
âœ… VertexAI instance created successfully
ğŸ”§ Getting Generative Model...
âœ… GenerativeModel created successfully
âœ… Created Vertex AI client (Vertex AI (tuo)) from settings 4c4e1eb2-47b8-4649-8a92-c656c2988229
âœ… Successfully created Vertex AI client (managedBy: self, usageScope: both)
[ScriptBuilder] Using AI provider: Vertex AI (tuo) (admin)
ğŸ”„ Switching model from gemini-2.5-flash to gemini-3-pro-preview
[ScriptBuilder] AI generation error: [VertexAI.ClientError]: got status: 404 Not Found. {"error":{"code":404,"message":"Publisher Model `projects/gen-lang-client-0278434337/locations/us-central1/publishers/google/models/gemini-3-pro-preview` was not found or your project does not have access to it. Please ensure you are using a valid model version. For more information, see: https://cloud.google.com/vertex-ai/generative-ai/docs/learn/model-versions","status":"NOT_FOUND"}}
12:53:12 AM [express] POST /api/script-builder/ai-generate 200 in 616ms :: {"success":true,"structureâ€¦