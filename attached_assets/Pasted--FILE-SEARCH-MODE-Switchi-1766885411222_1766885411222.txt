â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” FILE SEARCH MODE: Switching to Google AI Studio (required for File Search)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ğŸ“¦ Provider: Google AI Studio (@google/genai)
   âœ… File Search API: SUPPORTED
   âš ï¸  Vertex AI: NOT compatible with File Search
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… [SuperAdmin Gemini] Loaded 1 API keys from config
âœ… Using SuperAdmin Gemini key for File Search (1/1)
ğŸ”„ Building context for client 19ed2469-e094-4033-9198-156fc5dbfd3f (intent: general, sessionType: normal)
ğŸ“š Including ALL 0 exercises in context (no limits applied)
ğŸ“š Prepared 0 exercise metadata (content will be loaded on-demand when asked)
ğŸ“š Found 0 documents linked to exercises
ğŸ“š Total library documents included in context: 0 (intent: general)
ğŸ“Š Momentum stats: 0 check-ins (0 productive, 0% rate), streak: 0 days
ğŸ“… Calendar stats: 0 total upcoming (0 ongoing, 0 today, 0 this week)
ğŸ“š [Knowledge Base] Loading ALL knowledge content for client (no filtering)...
ğŸ“š [Client Knowledge Base] Loaded 4 documents and 0 APIs for client 19ed2469-e094-4033-9198-156fc5dbfd3f
âœ… [Knowledge Base] Loaded ALL content: 4 documents, 0 API sources
ğŸ’¾ Stored fresh context in cache for client 19ed2469-e094-4033-9198-156fc5dbfd3f (intent: general)
â±ï¸  [TIMING] Context building: 1969ms
â±ï¸  [TIMING] Exercise scraping: 1ms
âŒ Errore nel processing AI streaming: error: syntax error at or near "="
    at /home/runner/workspace/node_modules/pg-pool/index.js:45:11
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/node_modules/src/node-postgres/session.ts:104:19)
    at async Module.sendChatMessageStream (/home/runner/workspace/server/ai-service.ts:1861:29)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:8408:26) {
  length: 91,
  severity: 'ERROR',
  code: '42601',
  detail: undefined,
  hint: undefined,
  position: '167',
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'scan.l',
  line: '1244',
  routine: 'scanner_yyerror'
}
1:30:07 AM [express] POST /api/