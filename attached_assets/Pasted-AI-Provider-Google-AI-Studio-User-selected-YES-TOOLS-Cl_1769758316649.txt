AI] Provider: Google AI Studio, User-selected: YES
üõ†Ô∏è  [TOOLS] Client chat: codeExecution=YES, fileSearch=YES
üîÑ AI stream attempt 1/6...
üîí [Semaphore] Acquired slot (1/3 in use)
‚ùå [RateLimiter] GeminiAdapter.generateContentStream(gemini-3-flash-preview): Non-retryable error or max retries reached: {"error":{"message":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"* GenerateContentRequest.tools[1].file_search.file_search_store_names[0]: FileSearchStore name does not match expected format or is too long.\\n\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","code":400,"status":"Bad Request"}}
üîì [Semaphore] Released slot (0/3 in use)
‚ùå AI streaming error on attempt 1: {"error":{"message":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"* GenerateContentRequest.tools[1].file_search.file_search_store_names[0]: FileSearchStore name does not match expected format or is too long.\\n\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","code":400,"status":"Bad Request"}}
‚ùå Errore nel processing AI streaming: ApiError: {"error":{"message":"{\n  \"error\": {\n    \"code\": 400,\n    \"message\": \"* GenerateContentRequest.tools[1].file_search.file_search_store_names[0]: FileSearchStore name does not match expected format or is too long.\\n\",\n    \"status\": \"INVALID_ARGUMENT\"\n  }\n}\n","code":400,"status":"Bad Request"}}
    at throwErrorIfNotOK (/home/runner/workspace/node_modules/@google/genai/src/_api_client.ts:860:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async <anonymous> (/home/runner/workspace/node_modules/@google/genai/src/_api_client.ts:515:9)
    at async Models.Models.generateContentStream (/home/runner/workspace/node_modules/@google/genai/src/models.ts:201:14)
    at async executeWithRetry (/home/runner/workspace/server/ai/gemini-rate-limiter.ts:147:22)
    at async rateLimitedGeminiCall (/home/runner/workspace/server/ai/gemini-rate-limiter.ts:121:12)
    at async GeminiClientAdapter.generateContentStream (/home/runner/workspace/server/ai/provider-factory.ts:395:29)
    at async streamWithBackoff (/home/runner/workspace/server/ai/retry-manager.ts:338:30)
    at async streamWithRetriesAdapter (/home/runner/workspace/server/ai-service.ts:121:20)
    at async Module.sendChatMessageStream (/home/runner/workspace/server/ai-service.ts:2198:22)
    at async <anonymous> (/home/runner/workspace/server/routes.ts:10935:26) {
  status: 400
}
7:31:45 AM [express] POST /api/ai/chat 200 in 5230ms
7:31:46 AM [express] GET /api/ai/conversations 200 in 454ms :: [{"id":"c0e9c3f8-cd57-4609-ac80-9cc56‚Ä¶
7:31:46 AM [express] GET /api/ai/conversations/c0e9c3f8-cd57-4609-ac80-9cc56a01cfe1 200 in 895ms :: ‚Ä¶
